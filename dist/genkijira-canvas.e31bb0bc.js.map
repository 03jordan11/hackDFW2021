{"version":3,"sources":["entity.js","index.js"],"names":["Entity","x","y","width","height","imagePath","pos","vel","image","Image","src","can","document","querySelector","ctx","getContext","gravity","genkijira","food","drawEntity","entity","drawImage","init","window","innerWidth","innerHeight","clear","fillStyle","fillRect","jump","console","log","update","g","Math","abs","addEventListener","ev","key","onload","loop","requestAnimationFrame"],"mappings":"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","file":"genkijira-canvas.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class Entity {\n  constructor({x, y, width, height, imagePath}) {\n    this.pos = {\n      x,\n      y,\n    };\n    this.vel = {\n      x: 0,\n      y: 0,\n    };\n    this.width = width;\n    this.height = height;\n    this.image = new Image();\n    this.image.src = imagePath;\n  }\n}\n","import { Entity } from './entity';\n\nconst can = document.querySelector('#can');\nconst ctx = can.getContext('2d');\n\nconst gravity = 0.1;\n\nconst genkijira = new Entity(\n  {\n    x: 200,\n    y: 200,\n    width: 200,\n    height: 300,\n    imagePath: './gotchi.png',\n  }\n);\n\nconst food = new Entity(\n  {\n    x: 600,\n    y: 200,\n    width: 130,\n    height: 200,\n    imagePath: './lollipop.png',\n  }\n);\n\nfunction drawEntity(entity) {\n  ctx.drawImage(entity.image, entity.pos.x, entity.pos.y, entity.width, entity.height);\n}\n\nfunction init() {\n  can.width = window.innerWidth;\n  can.height = window.innerHeight;\n}\n\nfunction clear() {\n  ctx.fillStyle = 'lightblue';\n  ctx.fillRect(0, 0, can.width, can.height);\n}\n\nfunction jump() {\n  console.log('unimplemented');\n}\n\nfunction update() {\n  genkijira.vel.y += gravity;\n  genkijira.pos.y += genkijira.vel.y;\n\n  const g = can.height - genkijira.height;\n  if (genkijira.pos.y >= g) {\n    genkijira.pos.y = g - (genkijira.pos.y - g);\n    genkijira.vel.y = -Math.abs(genkijira.vel.y);\n  }\n}\n\ndocument.addEventListener('keydown', ev => {\n  switch(ev.key) {\n    case 'ArrowLeft':\n      genkijira.pos.x -= 5;\n      break;\n    case 'ArrowRight':\n      genkijira.pos.x += 5;\n      break;\n    case 'ArrowUp':\n      break;\n    case 'ArrowDown':\n      break;\n    case ' ':\n      jump();\n      break;\n  }\n});\n\n\ninit();\ngenkijira.image.onload = () => {\n  loop();\n};\n\nfunction loop() {\n  window.requestAnimationFrame(loop);\n\n  clear();\n\n  update();\n\n  drawEntity(food);\n  drawEntity(genkijira);\n}\n"]}