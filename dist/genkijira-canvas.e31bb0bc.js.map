{"version":3,"sources":["entity.js","index.js"],"names":["Entity","x","y","width","height","imagePath","pos","vel","image","Image","src","can","document","querySelector","ctx","getContext","gravity","isJumping","genkijira","food","drawEntity","entity","drawImage","init","window","innerWidth","innerHeight","clear","fillStyle","fillRect","jump","update","g","addEventListener","ev","key","onload","loop","requestAnimationFrame"],"mappings":"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","file":"genkijira-canvas.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class Entity {\n  constructor({x, y, width, height, imagePath}) {\n    this.pos = {\n      x,\n      y,\n    };\n    this.vel = {\n      x: 0,\n      y: 0,\n    };\n    this.width = width;\n    this.height = height;\n    this.image = new Image();\n    this.image.src = imagePath;\n  }\n}\n","import { Entity } from './entity';\n\nconst can = document.querySelector('#can');\nconst ctx = can.getContext('2d');\n\nconst gravity = 0.2;\nlet isJumping = false;\n\nconst genkijira = new Entity(\n  {\n    x: 200,\n    y: 200,\n    width: 200,\n    height: 300,\n    imagePath: './gotchi.png',\n  }\n);\n\nconst food = new Entity(\n  {\n    x: 600,\n    y: 200,\n    width: 130,\n    height: 200,\n    imagePath: './lollipop.png',\n  }\n);\n\nfunction drawEntity(entity) {\n  ctx.drawImage(entity.image, entity.pos.x, entity.pos.y, entity.width, entity.height);\n}\n\nfunction init() {\n  can.width = window.innerWidth;\n  can.height = window.innerHeight;\n}\n\nfunction clear() {\n  ctx.fillStyle = 'lightblue';\n  ctx.fillRect(0, 0, can.width, can.height);\n}\n\nfunction jump() {\n  isJumping = true;\n  genkijira.vel.y = -10;\n}\n\nfunction update() {\n  genkijira.vel.y += gravity;\n  genkijira.pos.y += genkijira.vel.y;\n\n  const g = can.height - genkijira.height;\n  if (genkijira.pos.y >= g) {\n    genkijira.pos.y = g - (genkijira.pos.y - g);\n    genkijira.vel.y = 0;\n    isJumping = false;\n  }\n}\n\ndocument.addEventListener('keydown', ev => {\n  switch(ev.key) {\n    case 'ArrowLeft':\n      genkijira.pos.x -= 5;\n      break;\n    case 'ArrowRight':\n      genkijira.pos.x += 5;\n      break;\n    case 'ArrowUp':\n      break;\n    case 'ArrowDown':\n      break;\n    case ' ':\n      if (!isJumping)\n        jump();\n      break;\n  }\n});\n\n\ninit();\ngenkijira.image.onload = () => {\n  loop();\n};\n\nfunction loop() {\n  window.requestAnimationFrame(loop);\n\n  clear();\n\n  update();\n\n  drawEntity(food);\n  drawEntity(genkijira);\n}\n"]}